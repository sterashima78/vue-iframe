(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(module,exports,__webpack_require__){__webpack_require__("487f"),__webpack_require__("48a2"),module.exports=__webpack_require__("5d29")},"37db":function(module,exports,__webpack_require__){},"5d29":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("ac6a");var _storybook_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7d14"),req=__webpack_require__("f330");Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_1__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__("8ca4")(module))},a3e1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",function(){return withStorySource}),__webpack_require__.d(__webpack_exports__,"__STORY__",function(){return __STORY__}),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",function(){return __ADDS_MAP__});__webpack_require__("28a5");var _storybook_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7d14"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("cc29"),_Iframe_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b54a"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4357"),storybook_addon_vue_info__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("9e9f"),withStorySource=__webpack_require__("029c").withStorySource,__STORY__='import { storiesOf } from \'@storybook/vue\';\r\nimport { action } from \'@storybook/addon-actions\';\r\n\r\nimport VIframe from \'../Iframe.vue\';\r\nimport { withKnobs, text, array } from \'@storybook/addon-knobs\';\r\nimport { withInfo } from \'storybook-addon-vue-info\';\r\n\r\nstoriesOf(\'Vue Iframe\', module)\r\n  .addDecorator(withInfo)\r\n  .addDecorator(withKnobs)\r\n  .add(\r\n    \'iframe\',\r\n    () => ({\r\n      components: { VIframe },\r\n      template: `<v-iframe \r\n                  @loaded="loaded" \r\n                  :body="body" \r\n                  :styles="styles"\r\n                  :cssLinks="cssLinks" \r\n                  :scriptsSrc="scriptsSrc" \r\n                  :script="script"\r\n                />`,\r\n      methods: {\r\n        loaded: action(\'loaded\'),\r\n      },\r\n      props: {\r\n        body: {\r\n          default: text(\r\n            \'body\',\r\n            `<div class="alert alert-primary">alert\\n  ` +\r\n              `<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>\\n` +\r\n              `</div>\\n` +\r\n              `<p>Hello world</p>\\n` +\r\n              `<button id="btn">\\n  <span>click <i class="fas fa-beer"></i></span>\\n</button>`\r\n          ),\r\n        },\r\n        cssLinks: {\r\n          default: () =>\r\n            array(\'cssLinks\', [\r\n              \'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\',\r\n              \'https://use.fontawesome.com/releases/v5.8.1/css/all.css\',\r\n            ]),\r\n        },\r\n        styles: {\r\n          default: text(\r\n            \'styles\',\r\n            `p {\\n  ` +\r\n              `background: green;\\n  ` +\r\n              `size: 25px;\\n` +\r\n              `}\\n` +\r\n              `span {\\n  ` +\r\n              `color: green;\\n  ` +\r\n              `size: 14px;\\n` +\r\n              `}`\r\n          ),\r\n        },\r\n        scriptsSrc: {\r\n          default: () =>\r\n            array(\'scriptSrc\', [\r\n              \'https://code.jquery.com/jquery-3.3.1.slim.min.js\',\r\n              \'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\',\r\n            ]),\r\n        },\r\n        script: {\r\n          default: text(\'script\', \'$("#btn").click(function(){alert("clicked")})\'),\r\n        },\r\n      },\r\n    }),\r\n    {\r\n      knobs: {\r\n        escapeHTML: false,\r\n      },\r\n    }\r\n  )\r\n  .add(\'live Editor\', () => ({\r\n    components: { VIframe },\r\n    template: `\r\n      <div style="display: flex;height:100%;wdith:100%;justify-content:space-between">\r\n        <section style="width: 50%;height:100%">\r\n          <div style="width:95%;height:150px;">\r\n            <p style="margin: 1px 0px;">body</p>\r\n            <textarea v-model="body" style="width:100%;height:120px;" />\r\n          </div>\r\n          <div style="width:95%;">\r\n            <p style="margin: 1px 0px;">External CSS Link (comma separated)</p>\r\n            <input type="text" style="width:100%" v-model="links"/>\r\n          </div>\r\n          <div style="width:95%;height:150px;">\r\n            <p style="margin: 1px 0px;">style</p>\r\n            <textarea v-model="styles" style="width:100%;height:120px;"/>\r\n          </div>\r\n          <div style="width:95%;">\r\n            <p style="margin: 1px 0px;">External Script Src (comma separated)</p>\r\n            <input type="text" style="width:100%" v-model="src"/>\r\n          </div>\r\n          <div style="width:95%;height:150px;">\r\n            <p style="margin: 1px 0px;">script</p>\r\n            <textarea v-model="script" style="width:100%;height:120px;"/>\r\n          </div>\r\n        </section>\r\n        <section style="width: 50%;height:100%">\r\n          <v-iframe \r\n            @loaded="loaded" \r\n            :body="body" \r\n            :styles="styles"\r\n            :cssLinks="cssLinks" \r\n            :scriptsSrc="scriptsSrc" \r\n            :script="script"\r\n          />\r\n        </section>\r\n      </div>`,\r\n    methods: {\r\n      loaded: action(\'loaded\'),\r\n    },\r\n    data() {\r\n      return {\r\n        body:\r\n          `<div class="alert alert-primary">alert\\n  ` +\r\n          `<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>\\n` +\r\n          `</div>\\n` +\r\n          `<p>Hello world</p>\\n` +\r\n          `<button id="btn">\\n  <span>click <i class="fas fa-beer"></i></span>\\n</button>`,\r\n        styles:\r\n          `p {\\n  ` +\r\n          `background: green;\\n  ` +\r\n          `size: 25px;\\n` +\r\n          `}\\n` +\r\n          `span {\\n  ` +\r\n          `color: green;\\n  ` +\r\n          `size: 14px;\\n` +\r\n          `}`,\r\n        script: \'$("#btn").click(function(){alert("clicked")})\',\r\n        src:\r\n          \'https://code.jquery.com/jquery-3.3.1.slim.min.js,https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\',\r\n        links:\r\n          \'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css,https://use.fontawesome.com/releases/v5.8.1/css/all.css\',\r\n      };\r\n    },\r\n    computed: {\r\n      scriptsSrc() {\r\n        return this.src.split(\',\');\r\n      },\r\n      cssLinks() {\r\n        return this.links.split(\',\');\r\n      },\r\n    },\r\n  }));\r\n',__ADDS_MAP__={"vue-iframe--live-editor":{startLoc:{col:7,line:75},endLoc:{col:4,line:147}},"vue-iframe--iframe":{startLoc:{col:4,line:12},endLoc:{col:5,line:73}}};Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Vue Iframe",module).addDecorator(withStorySource(__STORY__,__ADDS_MAP__)).addDecorator(storybook_addon_vue_info__WEBPACK_IMPORTED_MODULE_5__.a).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs).add("iframe",function(){return{components:{VIframe:_Iframe_vue__WEBPACK_IMPORTED_MODULE_3__.a},template:'<v-iframe \n                  @loaded="loaded" \n                  :body="body" \n                  :styles="styles"\n                  :cssLinks="cssLinks" \n                  :scriptsSrc="scriptsSrc" \n                  :script="script"\n                />',methods:{loaded:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("loaded")},props:{body:{default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("body",'<div class="alert alert-primary">alert\n  <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>\n</div>\n<p>Hello world</p>\n<button id="btn">\n  <span>click <i class="fas fa-beer"></i></span>\n</button>')},cssLinks:{default:function _default(){return Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.array)("cssLinks",["https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css","https://use.fontawesome.com/releases/v5.8.1/css/all.css"])}},styles:{default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("styles","p {\n  background: green;\n  size: 25px;\n}\nspan {\n  color: green;\n  size: 14px;\n}")},scriptsSrc:{default:function _default(){return Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.array)("scriptSrc",["https://code.jquery.com/jquery-3.3.1.slim.min.js","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"])}},script:{default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("script",'$("#btn").click(function(){alert("clicked")})')}}}},{knobs:{escapeHTML:!1}}).add("live Editor",function(){return{components:{VIframe:_Iframe_vue__WEBPACK_IMPORTED_MODULE_3__.a},template:'\n      <div style="display: flex;height:100%;wdith:100%;justify-content:space-between">\n        <section style="width: 50%;height:100%">\n          <div style="width:95%;height:150px;">\n            <p style="margin: 1px 0px;">body</p>\n            <textarea v-model="body" style="width:100%;height:120px;" />\n          </div>\n          <div style="width:95%;">\n            <p style="margin: 1px 0px;">External CSS Link (comma separated)</p>\n            <input type="text" style="width:100%" v-model="links"/>\n          </div>\n          <div style="width:95%;height:150px;">\n            <p style="margin: 1px 0px;">style</p>\n            <textarea v-model="styles" style="width:100%;height:120px;"/>\n          </div>\n          <div style="width:95%;">\n            <p style="margin: 1px 0px;">External Script Src (comma separated)</p>\n            <input type="text" style="width:100%" v-model="src"/>\n          </div>\n          <div style="width:95%;height:150px;">\n            <p style="margin: 1px 0px;">script</p>\n            <textarea v-model="script" style="width:100%;height:120px;"/>\n          </div>\n        </section>\n        <section style="width: 50%;height:100%">\n          <v-iframe \n            @loaded="loaded" \n            :body="body" \n            :styles="styles"\n            :cssLinks="cssLinks" \n            :scriptsSrc="scriptsSrc" \n            :script="script"\n          />\n        </section>\n      </div>',methods:{loaded:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("loaded")},data:function data(){return{body:'<div class="alert alert-primary">alert\n  <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>\n</div>\n<p>Hello world</p>\n<button id="btn">\n  <span>click <i class="fas fa-beer"></i></span>\n</button>',styles:"p {\n  background: green;\n  size: 25px;\n}\nspan {\n  color: green;\n  size: 14px;\n}",script:'$("#btn").click(function(){alert("clicked")})',src:"https://code.jquery.com/jquery-3.3.1.slim.min.js,https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js",links:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css,https://use.fontawesome.com/releases/v5.8.1/css/all.css"}},computed:{scriptsSrc:function scriptsSrc(){return this.src.split(",")},cssLinks:function cssLinks(){return this.links.split(",")}}}})}.call(this,__webpack_require__("8ca4")(module))},b54a:function(module,__webpack_exports__,__webpack_require__){"use strict";var promise=__webpack_require__("795b"),promise_default=__webpack_require__.n(promise),get_iterator=__webpack_require__("5d73"),get_iterator_default=__webpack_require__.n(get_iterator),asyncToGenerator=(__webpack_require__("ac6a"),__webpack_require__("96cf"),__webpack_require__("3b8d")),classCallCheck=__webpack_require__("d225"),createClass=__webpack_require__("b0b4"),possibleConstructorReturn=__webpack_require__("308d"),getPrototypeOf=__webpack_require__("6bb5"),inherits=__webpack_require__("4e2b"),tslib_es6=__webpack_require__("9ab4"),vue_property_decorator=__webpack_require__("60a3"),index_min=__webpack_require__("7240"),dist=__webpack_require__("cb8c"),Iframevue_type_script_lang_ts_VIframeSandbox=function(_Vue){function VIframeSandbox(){return Object(classCallCheck.a)(this,VIframeSandbox),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(VIframeSandbox).apply(this,arguments))}return Object(inherits.a)(VIframeSandbox,_Vue),Object(createClass.a)(VIframeSandbox,[{key:"iframe",value:function iframe(){return this.$el}},{key:"window",value:function window(){return dist.Optional.ofNullable(this.iframe().contentWindow)}},{key:"document",value:function document(){return this.window().map(function(w){return w.document})}},{key:"head",value:function head(){return this.document().map(function(d){return d.head})}},{key:"bodyElement",value:function bodyElement(){return this.document().map(function(d){return d.body})}},{key:"mounted",value:function mounted(){this.reload()}},{key:"reload",value:function reload(){var _this=this;if(!this.window().isPresent())return this.delayReload();this.iframe().onload=Object(asyncToGenerator.a)(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.updateBody(),_this.addLinks(),_this.addStyles(),_context.next=5,_this.addScriptSrc();case 5:_this.addInlineScript(),_this.$emit("loaded",_this.window().get());case 7:case"end":return _context.stop()}},_callee)})),this.window().get().location.reload()}},{key:"delayReload",value:function delayReload(){var _this2=this;return setTimeout(function(){_this2.reload()},100)}},{key:"addLinks",value:function addLinks(){var _this3=this;this.cssLinks.forEach(function(href){_this3.head().ifPresent(function(head){return head.appendChild(_this3.createLink(href))})})}},{key:"createLink",value:function createLink(link){var ele=document.createElement("link");return ele.setAttribute("href",link),ele.setAttribute("rel","stylesheet"),ele}},{key:"addStyles",value:function addStyles(){var _this4=this;this.head().ifPresent(function(head){return head.appendChild(_this4.createStyle(_this4.styles))})}},{key:"createStyle",value:function createStyle(rules){var ele=document.createElement("style");return ele.innerHTML=rules,ele}},{key:"addScriptSrc",value:function(){var _addScriptSrc=Object(asyncToGenerator.a)(regeneratorRuntime.mark(function _callee2(){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,src,script;return regeneratorRuntime.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context2.prev=3,_iterator=get_iterator_default()(this.scriptsSrc);case 5:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context2.next=13;break}return src=_step.value,script=this.createScript(src),_context2.next=10,this.insertScript(script);case 10:_iteratorNormalCompletion=!0,_context2.next=5;break;case 13:_context2.next=19;break;case 15:_context2.prev=15,_context2.t0=_context2.catch(3),_didIteratorError=!0,_iteratorError=_context2.t0;case 19:_context2.prev=19,_context2.prev=20,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 22:if(_context2.prev=22,!_didIteratorError){_context2.next=25;break}throw _iteratorError;case 25:return _context2.finish(22);case 26:return _context2.finish(19);case 27:case"end":return _context2.stop()}},_callee2,this,[[3,15,19,27],[20,,22,26]])}));return function addScriptSrc(){return _addScriptSrc.apply(this,arguments)}}()},{key:"addInlineScript",value:function addInlineScript(){var script=this.createScript();script.textContent=this.script,this.bodyElement().ifPresent(function(body){return body.appendChild(script)})}},{key:"insertScript",value:function insertScript(scriptElement){var _this5=this;return new promise_default.a(function(resolve){_this5.bodyElement().ifPresent(function(body){return body.appendChild(scriptElement)}),scriptElement.onload=function(){resolve()}})}},{key:"createScript",value:function createScript(){var src=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",script=document.createElement("script");return""!==src&&script.setAttribute("src",src),script}},{key:"updateBody",value:function updateBody(){var _this6=this;this.bodyElement().ifPresent(function(body){return body.innerHTML=_this6.body})}},{key:"updateStyles",value:function updateStyles(){this.reload()}},{key:"updateScript",value:function updateScript(){this.reload()}},{key:"updateCssLinks",value:function updateCssLinks(){this.reload()}},{key:"updateScriptsSrc",value:function updateScriptsSrc(){this.reload()}}]),VIframeSandbox}(vue_property_decorator.c);tslib_es6.a([Object(vue_property_decorator.b)({type:String,default:""})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"body",void 0),tslib_es6.a([Object(vue_property_decorator.b)({type:String,default:""})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"styles",void 0),tslib_es6.a([Object(vue_property_decorator.b)({type:String,default:""})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"script",void 0),tslib_es6.a([Object(vue_property_decorator.b)({type:Array,default:function _default(){return[]}})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"cssLinks",void 0),tslib_es6.a([Object(vue_property_decorator.b)({type:Array,default:function _default(){return[]}})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"scriptsSrc",void 0),tslib_es6.a([Object(index_min.debounce)(500,{leading:!1})],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"reload",null),tslib_es6.a([Object(vue_property_decorator.d)("body")],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"updateBody",null),tslib_es6.a([Object(vue_property_decorator.d)("styles")],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"updateStyles",null),tslib_es6.a([Object(vue_property_decorator.d)("script")],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"updateScript",null),tslib_es6.a([Object(vue_property_decorator.d)("cssLinks")],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"updateCssLinks",null),tslib_es6.a([Object(vue_property_decorator.d)("scriptsSrc")],Iframevue_type_script_lang_ts_VIframeSandbox.prototype,"updateScriptsSrc",null);var src_Iframevue_type_script_lang_ts_=Iframevue_type_script_lang_ts_VIframeSandbox=tslib_es6.a([vue_property_decorator.a],Iframevue_type_script_lang_ts_VIframeSandbox),componentNormalizer=(__webpack_require__("f4e2"),__webpack_require__("2877")),component=Object(componentNormalizer.a)(src_Iframevue_type_script_lang_ts_,function(){var _h=this.$createElement;return(this._self._c||_h)("iframe",{attrs:{frameBorder:"0"}})},[],!1,null,"8e3cbcf8",null);__webpack_exports__.a=component.exports;component.options.__docgenInfo={displayName:"VIframeSandbox",methods:[],description:"",tags:{},props:{body:{description:"",tags:{},type:{name:"string"},defaultValue:{func:!1,value:'""'},required:""},styles:{description:"",tags:{},type:{name:"string"},defaultValue:{func:!1,value:'""'},required:""},script:{description:"",tags:{},type:{name:"string"},defaultValue:{func:!1,value:'""'},required:""},cssLinks:{description:"",tags:{},type:{name:"TSArrayType"},defaultValue:{func:!0,value:"() => []"},required:""},scriptsSrc:{description:"",tags:{},type:{name:"TSArrayType"},defaultValue:{func:!0,value:"() => []"},required:""}},events:{loaded:{description:"",type:{names:["undefined"]}}},slots:{}}},f330:function(module,exports,__webpack_require__){var map={"./iframe.stories.js":"a3e1"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="f330"},f4e2:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_storybook_addon_vue_info_loader_index_js_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Iframe_vue_vue_type_style_index_0_id_8e3cbcf8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("37db");__webpack_require__.n(_node_modules_storybook_addon_vue_info_loader_index_js_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Iframe_vue_vue_type_style_index_0_id_8e3cbcf8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__).a}},[[0,1,2]]]);
//# sourceMappingURL=main.28fbc9b1c4a4ee85006c.bundle.js.map